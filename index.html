<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EternaWeb - CV & vitrines express</title>

  <!-- Favicons -->
  <link rel="icon" href="favicon-ew-32x32.png" type="image/png" sizes="32x32">
  <link rel="icon" href="favicon-ew-64x64.png" type="image/png" sizes="64x64">

  <!-- Ton CSS existant -->
  <link rel="stylesheet" href="style.css">

  <!-- CSS AJOUTS (banner + devis + tweaks) -->
  <style>
    /* ===== Bande info collante ===== */
    .info-banner{
      position: sticky; top: 8px; z-index: 5;
      background: #fff7ea; border: 1px solid #f2d7a6;
      color: #6a4a3b; padding: 10px 14px; margin: 16px auto; max-width: 980px;
      border-radius: 10px; display: flex; gap: 10px; align-items: center; justify-content: center;
    }
    .info-banner .info-cta{
      background: #6b4b3e; color: #fff; padding: 6px 10px; border-radius: 8px; text-decoration: none;
    }
    .info-banner .info-cta:hover{ opacity:.9; }
    .info-banner .info-close{
      margin-left: auto; border: 0; background: transparent; font-size: 18px; cursor: pointer; color:#6a4a3b;
      line-height: 1;
    }

    /* ===== Devis express ===== */
    .devis-section{
      background: rgba(255,255,255,0.9);
      max-width: 980px; margin: 28px auto; padding: 24px; border-radius: 16px;
      box-shadow: 0 6px 18px rgba(0,0,0,.08);
    }
    .devis-section h2{ text-align:center; margin-top:0; color:#6b4b3e; }

    #devisForm{ display: grid; gap: 14px; }
    #devisForm label{ display:block; }
    #devisForm input, #devisForm select, #devisForm textarea{
      width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid #e2d6cd;
      background: #fff; color: #2d1e15;
    }
    .grid-two{ display: grid; grid-template-columns: 1fr; gap: 12px; }
    @media (min-width: 720px){ .grid-two{ grid-template-columns: 1fr 1fr; } }

    .chk-wrap{ border: 1px dashed #e2d6cd; padding: 10px 12px; border-radius: 12px; }
    .chk-wrap legend{ padding:0 6px; color:#6b4b3e; font-weight:600; }
    .chk-wrap label{ margin-right: 12px; display: inline-flex; gap: 6px; align-items:center; }

    .actions{ display:flex; gap: 10px; flex-wrap: wrap; justify-content: center; margin-top: 6px; }
    .small-note{ font-size: .9rem; opacity: .8; text-align: center; margin: 6px 0 0; }

    /* Estimation bloc */
    .estimate{
      display:flex; align-items:center; justify-content:center; gap:10px;
      background:#fff7f1; border:1px solid #f2ddc9; color:#6b4b3e;
      margin-top: 6px; padding:10px 12px; border-radius:10px;
      font-weight: 600;
    }
    .estimate .price{ font-size:1.1rem; }

    /* Bouton loader state */
    .btn[aria-busy="true"]{
      position: relative; pointer-events:none; opacity:.85;
    }
    .btn[aria-busy="true"]::after{
      content:""; width:16px; height:16px; border-radius:50%;
      border:2px solid rgba(255,255,255,.6); border-top-color:transparent;
      position:absolute; right:12px; top:50%; transform:translateY(-50%);
      animation: spin .9s linear infinite;
    }
    @keyframes spin{ to{ transform:translateY(-50%) rotate(360deg);} }
  </style>
</head>
<body>

  <!-- Logo -->
  <div class="logo-container">
    <div class="logo-badge">
      <img src="eternaweb-logo.png" alt="EternaWeb" class="logo-simple">
    </div>
  </div>

  <!-- Menu -->
  <button class="menu-toggle" id="menuBtn" aria-expanded="false">‚ò∞ Menu</button>
  <nav id="mainMenu" class="menu" aria-label="Navigation principale">
    <ul>
      <li><a href="#cv">CV</a></li>
      <li><a href="#portfolio">Portfolio</a></li>
      <li><a href="#vitrine">Vitrine</a></li>
      <li><a href="#tarifs">Tarifs</a></li>
      <li><a href="#devis">Devis</a></li>
    </ul>
  </nav>

  <!-- Popup "Autres" (d√©sactiv√© si tu ne l'utilises pas)
  <div id="popup" class="popup" role="dialog" aria-label="Int√©grations disponibles" style="display:none">
    <h4>Int√©grations disponibles</h4>
    <ul>
      <li><a href="#">üí¨ WhatsApp</a></li>
      <li><a href="#">üí∞ PayPal</a></li>
      <li><a href="#">üí≥ SumUp</a></li>
      <li><a href="#">üìò Facebook</a></li>
    </ul>
  </div> -->

  <!-- Intro -->
  <div class="container" id="cv">
    <h1>EternaWeb</h1>
    <h2>CV & vitrines express ‚Äî en ligne en 48 heures</h2>

    <p>‚ú® Cr√©ation de mini-sites pros pour :</p>
    <ul>
      <li>‚Ä¢ Pr√©senter vos cr√©ations (artisanat, soins, coaching...)</li>
      <li>‚Ä¢ H√©berger un CV moderne ou un portfolio</li>
      <li>‚Ä¢ Int√©grer WhatsApp, PayPal ou SumUp</li>
    </ul>

    <div class="avenir">üì¢ Prochainement : galerie de sites & t√©moignages.</div>

    <div class="cta-row">
      <a href="https://wa.me/33749461434" target="_blank" class="btn btn-wa">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="" class="btn-ico"> WhatsApp
      </a>
      <a href="https://paypal.me/DanielleTKab?country.x=FR&locale.x=fr_FR" target="_blank" class="btn btn-pp">
        <img src="https://www.paypalobjects.com/webstatic/icon/pp258.png" alt="" class="btn-ico"> PayPal
      </a>
    </div>
  </div>

  <!-- Bande d‚Äôinfo -->
  <div class="info-banner" id="infoBanner">
    <span>üöÄ Nouveau : remplis le <strong>Devis express</strong>, choisis ta formule et envoie tout sur WhatsApp.</span>
    <a href="#devis" class="info-cta">Aller au devis</a>
    <button class="info-close" aria-label="Fermer">√ó</button>
  </div>

  <!-- Devis express -->
  <section id="devis" class="devis-section">
    <h2>üìù Devis express</h2>

    <!-- Estimation live -->
    <div class="estimate">Estimation : <span class="price" id="estPrice">‚Äî</span></div>

    <form id="devisForm" autocomplete="on">
      <div class="grid-two">
        <label>Nom & Pr√©nom*<br>
          <input type="text" name="nom" required>
        </label>
        <label>T√©l√©phone WhatsApp*<br>
          <input type="tel" name="whatsapp" placeholder="+33..." required>
        </label>
      </div>

      <div class="grid-two">
        <label>Email (optionnel)<br>
          <input type="email" name="email" placeholder="ex: nom@domaine.fr">
        </label>
        <label>Deadline (optionnel)<br>
          <input type="date" name="deadline">
        </label>
      </div>

      <div class="grid-two">
        <label>Type de site*<br>
          <select name="type" required>
            <option value="">‚Äî Choisir ‚Äî</option>
            <option>CV</option>
            <option>Portfolio</option>
            <option>Vitrine</option>
          </select>
        </label>
        <label>Pack choisi*<br>
          <select name="pack" id="packSelect" required>
            <option value="">‚Äî Choisir ‚Äî</option>
            <option value="49">Essentiel ‚Äì 49 ‚Ç¨</option>
            <option value="89">Vitrine ‚Äì 89 ‚Ç¨</option>
            <option value="129">Premium ‚Äì 129 ‚Ç¨</option>
          </select>
        </label>
      </div>

      <div class="grid-two">
        <label>Palette / couleurs souhait√©es<br>
          <input type="text" name="couleurs" placeholder="Ex: #5c4033 (brun), beige, dor√©‚Ä¶">
        </label>
        <label>Style visuel<br>
          <select name="style">
            <option value="">‚Äî Au choix ‚Äî</option>
            <option>Sober / Minimal</option>
            <option>Moderne</option>
            <option>Luxueux</option>
            <option>Nature / Organique</option>
          </select>
        </label>
      </div>

      <div class="grid-two">
        <label>Fond<br>
          <select name="fond">
            <option value="">‚Äî Au choix ‚Äî</option>
            <option>Uni</option>
            <option>D√©grad√©</option>
            <option>Image</option>
          </select>
        </label>
        <label>Police(s) pr√©f√©r√©e(s)<br>
          <input type="text" name="polices" placeholder="Ex: Playfair Display, Inter‚Ä¶">
        </label>
      </div>

      <label>Cat√©gorie (activit√©)<br>
        <input type="text" name="categorie" placeholder="Coaching, artisanat, soins, restauration‚Ä¶">
      </label>

      <fieldset class="chk-wrap">
        <legend>Contenus √† fournir</legend>
        <label><input type="checkbox" name="contenus" value="Logo"> Logo</label>
        <label><input type="checkbox" name="contenus" value="Photos"> Photos</label>
        <label><input type="checkbox" name="contenus" value="Textes"> Textes</label>
        <label><input type="checkbox" name="contenus" value="Tarifs"> Tarifs</label>
        <label><input type="checkbox" name="contenus" value="R√©seaux"> R√©seaux sociaux</label>
      </fieldset>

      <label>Liens d'inspiration / mod√®les (Drive, sites, Instagram‚Ä¶)<br>
        <textarea name="inspirations" rows="2" placeholder="Colle tes liens ici"></textarea>
      </label>

      <label>Notes & besoins sp√©cifiques<br>
        <textarea name="notes" rows="3" placeholder="Ex: sections souhait√©es, fonctionnalit√©s, langue‚Ä¶"></textarea>
      </label>

      <div class="actions">
        <button type="submit" class="btn btn-wa" id="sendBtn">Envoyer sur WhatsApp</button>
        <a id="emailFallback" class="btn btn-pp" href="#">Ou envoyer par email</a>
      </div>

      <p class="small-note">‚ö†Ô∏è Les fichiers (images/logo) ne peuvent pas √™tre joints via ce formulaire WhatsApp.
        Ajoute un lien (Google Drive/Dropbox) ou envoie-les ensuite directement par WhatsApp.</p>
    </form>
  </section>

  <!-- Tarifs -->
  <section class="pricing-section" id="tarifs">
    <h2>üßæ Formules EternaWeb</h2>
    <p>CV & mini-sites vitrines express ‚Äî h√©bergement inclus</p>

    <div class="pricing-cards">
      <div class="card" onclick="location.href='https://wa.me/33749461434?text=Bonjour%20!%20Je%20suis%20int%C3%A9ress%C3%A9(e)%20par%20le%20Pack%20Essentiel%20EternaWeb.'">
        <h3>üåø Pack Essentiel ‚Äì 49 ‚Ç¨</h3>
        <ul>
          <li>CV en ligne simple (1 page)</li>
          <li>Personnalisation avec infos + photo</li>
          <li>Design √©l√©gant & responsive</li>
          <li>Livraison sous 48h</li>
        </ul>
        <div class="tarif-note">Id√©al pour : candidatures</div>
      </div>

      <div class="card" onclick="location.href='https://wa.me/33749461434?text=Bonjour%20!%20Je%20suis%20int%C3%A9ress%C3%A9(e)%20par%20le%20Pack%20Vitrine%20Pro%20EternaWeb.'">
        <h3>‚ú® Pack Vitrine ‚Äì 89 ‚Ç¨</h3>
        <ul>
          <li>Mini-site vitrine (2-3 pages)</li>
          <li>Accueil + pr√©sentation produits/services</li>
          <li>Boutons WhatsApp, PayPal, r√©seaux</li>
          <li>Design harmonieux & responsive</li>
        </ul>
        <div class="tarif-note">Id√©al pour : artisans, freelances</div>
      </div>

      <div class="card" onclick="location.href='https://wa.me/33749461434?text=Bonjour%20!%20Je%20suis%20int%C3%A9ress%C3%A9(e)%20par%20le%20Pack%20Premium%20EternaWeb.'">
        <h3>üíé Pack Premium ‚Äì 129 ‚Ç¨</h3>
        <ul>
          <li>Tout le Pack Vitrine</li>
          <li>Cr√©ation/refonte logo</li>
          <li>Conseils branding</li>
          <li>SEO de base + Galerie/FAQ</li>
        </ul>
        <div class="tarif-note">Id√©al pour : lancement complet</div>
      </div>
    </div>
  </section>

  <!-- T√©moignages (affich√© via #temoignages si besoin) -->
  <section id="temoignages" class="testimonials">
    <h2>üí¨ T√©moignages</h2>
    <div class="t-grid">
      <blockquote>
        ‚ÄúSuper r√©active et professionnelle, mon site a √©t√© en ligne le jour m√™me !‚Äù
        <cite>‚Äî Claire B.</cite>
      </blockquote>
      <blockquote>
        ‚ÄúDesign √©l√©gant, clair, et surtout‚Ä¶ mes clients m‚Äô√©crivent directement via WhatsApp !‚Äù
        <cite>‚Äî Malik T.</cite>
      </blockquote>
      <blockquote>
        ‚ÄúExcellent rapport qualit√©/prix. Je recommande √† 100 %.‚Äù
        <cite>‚Äî Sofia M.</cite>
      </blockquote>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-columns">
      <div class="footer-card">
        <img src="carte-eternaweb-footer.png" alt="EternaWeb contact" class="footer-logo">
      </div>

      <div class="footer-info">
        <div class="footer-block">
          <h4>Infos utiles</h4>
          <ul>
            <li><a href="a-propos">‚ÑπÔ∏è √Ä propos</a></li>
            <li><a href="confidentialite.html">üìÑ Confidentialit√©</a></li>
            <li><a href="securite.html">üîí S√©curit√©</a></li>
            <li><a href="#temoignages">üí¨ T√©moignages</a></li>
            <li><a href="faq.html">üìö FAQ</a></li>
          </ul>
        </div>
        <div class="footer-block">
          <h4>Contact</h4>
          <ul>
            <li><a href="https://wa.me/33749461434">WhatsApp</a></li>
            <li><a href="mailto:contact@eternaweb.fr">contact@eternaweb.fr</a></li>
          </ul>
        </div>
      </div>
    </div>
    <p class="copyright">¬© 2025 Danielle Kabongo ‚Äì Tous droits r√©serv√©s</p>
  </footer>

  <!-- JS -->
  <script>
    /* ===== Menu mobile ===== */
    const menuBtn = document.getElementById('menuBtn');
    const mainMenu = document.getElementById('mainMenu');
    if (menuBtn && mainMenu){
      menuBtn.addEventListener('click', () => {
        mainMenu.classList.toggle('show');
        const expanded = menuBtn.getAttribute('aria-expanded') === 'true';
        menuBtn.setAttribute('aria-expanded', (!expanded).toString());
      });
    }

    /* ===== Fermer la banni√®re info ===== */
    const infoBanner = document.getElementById('infoBanner');
    if (infoBanner){
      const closeBtn = infoBanner.querySelector('.info-close');
      closeBtn.addEventListener('click', ()=> infoBanner.style.display='none');
    }

    /* ===== Devis -> WhatsApp ===== */
    const devisForm = document.getElementById('devisForm');
    const emailFallback = document.getElementById('emailFallback');
    const packSelect = document.getElementById('packSelect');
    const estPrice = document.getElementById('estPrice');
    const sendBtn = document.getElementById('sendBtn');

    // Estimation simple sur base du pack
    function updateEstimate(){
      const v = Number(packSelect?.value || 0);
      estPrice.textContent = v ? `${v} ‚Ç¨` : '‚Äî';
    }
    if (packSelect){ packSelect.addEventListener('change', updateEstimate); updateEstimate(); }

    // Helpers
    const LS_KEY = 'ew_devis_v1';
    function clean(val){ return (val || '').toString().trim(); }
    function saveDraft(){
      if (!devisForm) return;
      const form = new FormData(devisForm);
      const data = Object.fromEntries(form.entries());
      data.contenus = [...devisForm.querySelectorAll('input[name="contenus"]:checked')].map(x=>x.value);
      localStorage.setItem(LS_KEY, JSON.stringify(data));
    }
    function loadDraft(){
      const raw = localStorage.getItem(LS_KEY);
      if (!raw || !devisForm) return;
      try{
        const data = JSON.parse(raw);
        for (const [k,v] of Object.entries(data)){
          const el = devisForm.querySelector(`[name="${k}"]`);
          if (!el) continue;
          if (el.tagName === 'SELECT' || el.tagName === 'TEXTAREA' || el.type === 'text' || el.type === 'email' || el.type === 'date' || el.type === 'tel'){
            el.value = v;
          }
        }
        // contenus (checkboxes)
        if (Array.isArray(data.contenus)){
          devisForm.querySelectorAll('input[name="contenus"]').forEach(cb=>{
            cb.checked = data.contenus.includes(cb.value);
          });
        }
        updateEstimate();
      }catch(e){}
    }
    // auto-save brouillon
    if (devisForm){
      devisForm.addEventListener('input', saveDraft);
      loadDraft();
    }

    // Compose le message
    function buildMessage(data){
      const blocs = [];
      blocs.push(`DEMANDE DE DEVIS ‚Äì EternaWeb`);
      blocs.push(`Nom: ${data.nom}`);
      if (data.email) blocs.push(`Email: ${data.email}`);
      blocs.push(`WhatsApp: ${data.whatsapp}`);
      if (data.deadline) blocs.push(`Deadline: ${data.deadline}`);
      blocs.push(`Type de site: ${data.type}`);
      blocs.push(`Pack: ${data.packLabel} (${data.pack} ‚Ç¨)`);
      if (data.couleurs) blocs.push(`Couleurs: ${data.couleurs}`);
      if (data.style) blocs.push(`Style: ${data.style}`);
      if (data.fond) blocs.push(`Fond: ${data.fond}`);
      if (data.polices) blocs.push(`Polices: ${data.polices}`);
      if (data.categorie) blocs.push(`Cat√©gorie: ${data.categorie}`);
      if (data.contenus?.length) blocs.push(`Contenus fournis: ${data.contenus.join(', ')}`);
      if (data.inspirations) blocs.push(`Inspirations: ${data.inspirations}`);
      if (data.notes) blocs.push(`Notes: ${data.notes}`);
      blocs.push(`\nEstimation indicatrice: ${data.pack ? data.pack + ' ‚Ç¨' : '‚Äî'}`);
      return blocs.join('\n');
    }

    if (devisForm){
      devisForm.addEventListener('submit', (e)=>{
        e.preventDefault();
        if (!sendBtn) return;

        const form = new FormData(devisForm);
        const data = {
          nom: clean(form.get('nom')),
          whatsapp: clean(form.get('whatsapp')),
          email: clean(form.get('email')),
          deadline: clean(form.get('deadline')),
          type: clean(form.get('type')),
          pack: clean(form.get('pack')),
          packLabel: (devisForm.querySelector('#packSelect option:checked')?.textContent || '').trim(),
          couleurs: clean(form.get('couleurs')),
          style: clean(form.get('style')),
          fond: clean(form.get('fond')),
          polices: clean(form.get('polices')),
          categorie: clean(form.get('categorie')),
          inspirations: clean(form.get('inspirations')),
          notes: clean(form.get('notes')),
          contenus: [...devisForm.querySelectorAll('input[name="contenus"]:checked')].map(x=>x.value)
        };

        // V√©rifs minimales
        if (!data.nom || !data.whatsapp || !data.type || !data.pack){
          alert('Merci de remplir au moins : Nom, WhatsApp, Type de site et Pack choisi.');
          return;
        }

        // Loader on
        sendBtn.setAttribute('aria-busy','true');
        sendBtn.textContent = 'Pr√©paration‚Ä¶';

        const msg = buildMessage(data);
        const phone = '33749461434'; // Ton num√©ro WhatsApp
        const url = `https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;

        // Fallback mail pr√™t
        const mailto = `mailto:contact@eternaweb.fr?subject=${encodeURIComponent('Devis EternaWeb')}&body=${encodeURIComponent(msg)}`;
        emailFallback.setAttribute('href', mailto);

        // Ouvre WhatsApp
        setTimeout(()=>{
          window.open(url, '_blank');
          // Remet le bouton clean
          sendBtn.removeAttribute('aria-busy');
          sendBtn.textContent = 'Envoyer sur WhatsApp';
        }, 500);
      });
    }
  </script>
</body>
</html>
